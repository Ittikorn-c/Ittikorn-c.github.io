<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Kuizza haha plus</title>

        <style media="screen">

        </style>
    </head>

    <body>
      <div class="homepage">
        <div class="gameName">Quizaaa HaHa Plus</div>
        <div class="gameChoiceNum">
          <button class="tenChoice" onclick="showGame(10)">10 Choices</button>
          <button class="twentyChoice" onclick="showGame(20)">20 choices</button>
         
        </div>
      </div>

      <div class="gameBlock">
         <div class="picQuiz"></div>
         <div class="question">
            <p>Question...</p>
         </div>

        <div class="Choices">
           <button class="Choice" id="choiceA">a</button>
           <button class="Choice" id="choiceB">b</button>
           <button class="Choice" id="choiceC">c</button>
           <button class="Choice" id="choiceD">d</button>
        </div>
       
      </div>
      <div class="finalpage">
        <p id="text">text..</p>
        <p id="score">score...</p>
      </div>
    

        <script src="jquery-3.3.1.min.js" type="text/javascript">

        </script>

        <script type="text/javascript">
        var listSection = [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19];
        var choiceNum;
        var ans;
        var score = 0;
        var time = 30;
        start();

        function getQuiz(num){
          $(document).ready(function(){
              $.ajax({
                  url: 'data.json',
                  method: 'GET',
                  dataType: 'json',
                  success: function(response){
                          $(".question").html(response[num].question);
                          $("#choiceA").html(response[num].a);
                          $("#choiceB").html(response[num].b);
                          $("#choiceC").html(response[num].c);
                          $("#choiceD").html(response[num].d);
                          ans = response[num].ans;

                          
                  }
              });
          });
        }
        
        function start(){
            $(".gameBlock").hide();
            $(".finalpage").hide();
           
        }
        function showGame(num){
            choiceNum = num;
            showQuiz();
         
        }
        function showQuiz(){

         console.log("started..");
          if(choiceNum > 0){
            $(".homepage").hide();
            $(".gameBlock").show();
            getQuiz(randomSection());
            choiceNum--;
            setTimeout(showQuiz, 5000);
          }
          else{
            $(".gameBlock").hide();
            $(".finalpage").show();
            $("#score").html("Score" + score);
          }

          
        }
        $('.Choice').click(function(){
          if (ans == $(this).html()){
              score++;
              console.log(score);
            }
          showQuiz();
        })
        function randomSection(){
          let randNum;
          let currentSection;
          randNum = Math.floor(Math.random() * (listSection.length-1));
          currentSection = listSection[randNum];
          console.log("rd = " + randNum);
          console.log("section = " + currentSection);
          listSection.splice(randNum,1);

          return currentSection;
        }
        </script>
    </body>
</html>